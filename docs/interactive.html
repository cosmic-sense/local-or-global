<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Bokeh Plot</title>
    <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.4.3.min.js"></script>
    <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.4.3.min.js"></script>
    <script type="text/javascript">
        Bokeh.set_log_level("info");
    </script>
  </head>
  <body>
    <div class="bk-root" id="cb658149-e9fa-487a-8a19-8759defc46b5" data-root-id="9226"></div>
  
    <script type="application/json" id="9359">
      {"c55c0398-b9fd-455a-8741-d8c7241697ec":{"defs":[],"roots":{"references":[{"attributes":{"coordinates":null,"group":null,"items":[{"id":"9200"},{"id":"9218"}],"label_text_font_size":"13pt","title":"Calibration strategy","title_text_font_size":"13pt"},"id":"9199","type":"Legend"},{"attributes":{"source":{"id":"9150"}},"id":"9187","type":"CDSView"},{"attributes":{"axis_label":"Neutron intensity (cph)","axis_label_text_font_size":"13pt","coordinates":null,"formatter":{"id":"9194"},"group":null,"major_label_policy":{"id":"9195"},"major_label_text_font_size":"13pt","ticker":{"id":"9161"}},"id":"9160","type":"LinearAxis"},{"attributes":{"children":[{"id":"9219"},{"id":"9220"},{"id":"9221"},{"id":"9222"},{"id":"9223"}]},"id":"9225","type":"Column"},{"attributes":{"label":{"value":"general"},"renderers":[{"id":"9186"}]},"id":"9200","type":"LegendItem"},{"attributes":{"coordinates":null,"data_source":{"id":"9150"},"glyph":{"id":"9183"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"9185"},"nonselection_glyph":{"id":"9184"},"view":{"id":"9187"}},"id":"9186","type":"GlyphRenderer"},{"attributes":{},"id":"9152","type":"DataRange1d"},{"attributes":{"children":[{"id":"9151"},{"id":"9225"}]},"id":"9226","type":"Row"},{"attributes":{"end":0.1,"js_property_callbacks":{"change:value":[{"id":"9224"}]},"start":0.0,"step":0.001,"title":"Error of SWC (m\u00b3/m\u00b3)","value":0.02},"id":"9223","type":"Slider"},{"attributes":{"line_alpha":0.1,"line_color":"#2980b9","line_width":3,"x":{"field":"x"},"y":{"field":"yl"}},"id":"9203","type":"Line"},{"attributes":{"end":400.0,"js_property_callbacks":{"change:value":[{"id":"9224"}]},"start":0,"title":"Error of bulk density (kg/m\u00b3)","value":100},"id":"9220","type":"Slider"},{"attributes":{"source":{"id":"9150"}},"id":"9206","type":"CDSView"},{"attributes":{},"id":"9173","type":"HelpTool"},{"attributes":{},"id":"9165","type":"BasicTicker"},{"attributes":{"args":{"sl_sigma_mb":{"id":"9219"},"sl_sigma_rhob":{"id":"9220"},"sl_sigma_som":{"id":"9221"},"sl_sigma_thc":{"id":"9223"},"sl_thc":{"id":"9222"},"source":{"id":"9150"}},"code":"\n    const data = source.data;\n\n    const x = data['x']\n    const y = data['y']\n    const yl = data['yl']\n          \n    const N0 = 2302\n    const fs = 1.\n    const rhob = 1300.\n    const mb = 2\n    const som = 0.06\n    const lw = 0.02\n    const a0 = 0.0808\n    const a1 = 0.372\n    const a2 = 0.115\n    const rhow = 1000.\n    const sigma_fs = 0.\n    const sigma_N0 = 19\n    const sigma_mb = sl_sigma_mb.value\n    const sigma_rhob = sl_sigma_rhob.value\n    const sigma_som = sl_sigma_som.value\n    const sigma_lw = 0.002\n\n    \n    var N = 0\n    var sigma_N = 0\n    var dth_dN = 0\n    var dth_dN0 = 0\n    var dth_dfs = 0\n    var dth_dmb = 0\n    var dth_drhob = 0\n    var dth_dsom = 0\n    var dth_dlw = 0\n    var sigma_th = 0\n    var dth_dN_eff = 0\n    var dth_dNc_eff = 0\n    var dth_dthc_eff = 0\n    var dth_drhob_eff = 0\n    var sigma_th_eff = 0\n    \n    const thc = sl_thc.value\n    const sigma_thc = sl_sigma_thc.value\n    \n    var Nc = 0\n    var sigma_Nc = 0\n    \n    for (let i = 0; i &lt; x.length; i++) {\n        N = x[i]\n        sigma_N = Math.sqrt(N*24) / 24\n        //GLOBAL\n        dth_dN = 111.111 * a0 * rhob * (mb - 111.111) * fs * N0 / (rhow * (a1 * (mb-111.111) * N0 + 111.111 * fs * N )**2)\n        dth_dN0 = 111.111 * a0 * rhob * (mb - 111.111) * fs * N / (rhow * (a1 * (mb-111.111) * N0 + 111.111 * fs * N )**2)\n        dth_dfs = 111.111 * a0 * rhob * (mb - 111.111) * N * N0 / (rhow * (a1 * (mb-111.111) * N0 + 111.111 * fs * N )**2)\n        dth_dmb = 0.009 * a0 * rhob * fs * N * N0 / (rhow * (a1 * N0 * (0.009 * mb - 1) + fs * N)**2)\n        dth_drhob = ((a0 / (fs * N / (N0 * (1. - 0.009*mb)) - a1)) - a2 - 0.556 * som - lw) / rhow\n        dth_dsom = -0.556 * rhob / rhow\n        dth_dlw = -rhob / rhow\n        sigma_th = Math.sqrt(dth_dfs**2 * sigma_fs**2 + dth_dN**2 * sigma_N**2 + dth_dN0**2 * sigma_N0**2 + dth_dmb**2 * sigma_mb**2 + dth_drhob**2 * sigma_rhob**2 + dth_dsom**2 * sigma_som**2 + dth_dlw**2 * sigma_lw**2)\n        y[i] = sigma_th\n        \n        //LOCAL\n        Nc = N0 * ( (a0 / (thc * rhow / rhob + a2)) + a1)\n        sigma_Nc = Math.sqrt(Nc*24) / 24\n        dth_dN_eff = -a0 * rhob * Nc * (a2 * rhob + thc * rhow) * (a0 * rhob + a2 * a1 * rhob + a1 * thc * rhow) / (rhow * (a2 * a1 * rhob * (Nc - N) - a0 * rhob * N + a1 * thc * rhow * (Nc - N))**2)\n        dth_dNc_eff = a0 * rhob * N * (a2 * rhob + thc * rhow) * (a0 * rhob + a2 * a2 * rhob + a1 * thc * rhow) / (rhow * (a1 * (N - Nc) * (a2 * rhob + thc * rhow) + a0 * rhob * N)**2 )\n        dth_dthc_eff = a0**2 * rhob**2 * N * Nc / ( (a1 * (N - Nc) * (a2 * rhob + rhow * thc) + a0 * rhob * N)**2 )\n        dth_drhob_eff = ( (a1 * (N-Nc) * (a2*rhob+thc*rhow) + a0*N*rhob) * (a0 * Nc * (a2*rhob + thc*rhow) - a2 * (a1*(N-Nc)*(a2*rhob + thc*rhow) + a0*N*rhob) ) - a0**2 * Nc * N * thc * rhow * rhob) / (rhow * (a1 * (N-Nc) * (a2*rhob + thc*rhow) + a0*N*rhob)**2 )\n        sigma_th_eff = Math.sqrt(dth_dN_eff**2 * sigma_N**2 + dth_dNc_eff**2 * sigma_Nc**2 + dth_dthc_eff**2 * sigma_thc**2 + dth_drhob_eff**2 * sigma_rhob**2 )\n        yl[i] = sigma_th_eff\n    }\n    source.change.emit();\n"},"id":"9224","type":"CustomJS"},{"attributes":{},"id":"9171","type":"SaveTool"},{"attributes":{"axis":{"id":"9160"},"coordinates":null,"group":null,"ticker":null},"id":"9163","type":"Grid"},{"attributes":{},"id":"9196","type":"UnionRenderers"},{"attributes":{"overlay":{"id":"9174"}},"id":"9170","type":"BoxZoomTool"},{"attributes":{"axis_label":"Error of SWC (m\u00b3/m\u00b3)","axis_label_text_font_size":"13pt","coordinates":null,"formatter":{"id":"9191"},"group":null,"major_label_policy":{"id":"9192"},"major_label_text_font_size":"13pt","ticker":{"id":"9165"}},"id":"9164","type":"LinearAxis"},{"attributes":{},"id":"9191","type":"BasicTickFormatter"},{"attributes":{"line_alpha":0.6,"line_color":"#c0392b","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"9183","type":"Line"},{"attributes":{"axis":{"id":"9164"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"9167","type":"Grid"},{"attributes":{"line_alpha":0.1,"line_color":"#c0392b","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"9184","type":"Line"},{"attributes":{"below":[{"id":"9160"}],"center":[{"id":"9163"},{"id":"9167"},{"id":"9199"}],"height":400,"left":[{"id":"9164"}],"renderers":[{"id":"9186"},{"id":"9205"}],"title":{"id":"9188"},"toolbar":{"id":"9175"},"width":400,"x_range":{"id":"9152"},"x_scale":{"id":"9156"},"y_range":{"id":"9154"},"y_scale":{"id":"9158"}},"id":"9151","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"9168","type":"PanTool"},{"attributes":{"tools":[{"id":"9168"},{"id":"9169"},{"id":"9170"},{"id":"9171"},{"id":"9172"},{"id":"9173"}]},"id":"9175","type":"Toolbar"},{"attributes":{"coordinates":null,"group":null},"id":"9188","type":"Title"},{"attributes":{},"id":"9197","type":"Selection"},{"attributes":{"data":{"x":{"__ndarray__":"AAAAAADAkkDPkJi3M9SSQJ4hMW9n6JJAbbLJJpv8kkA7Q2LezhCTQArU+pUCJZNA2WSTTTY5k0Co9SsFak2TQHeGxLydYZNARhdddNF1k0AVqPUrBYqTQOQ4juM4npNAsskmm2yyk0CBWr9SoMaTQFDrVwrU2pNAH3zwwQfvk0DuDIl5OwOUQL2dITFvF5RAjC666KIrlEBav1Kg1j+UQClQ61cKVJRA+OCDDz5olEDHcRzHcXyUQJYCtX6lkJRAZZNNNtmklEA0JObtDLmUQAK1fqVAzZRA0UUXXXThlECg1q8UqPWUQG9nSMzbCZVAPvjggw8elUANiXk7QzKVQNwZEvN2RpVAq6qqqqpalUB6O0Ni3m6VQEjM2xkSg5VAF1100UWXlUDm7QyJeauVQLV+pUCtv5VAhA8++ODTlUBToNavFOiVQCIxb2dI/JVA8MEHH3wQlkC/UqDWrySWQI7jOI7jOJZAXXTRRRdNlkAsBWr9SmGWQPuVArV+dZZAyiabbLKJlkCYtzMk5p2WQGdIzNsZspZANtlkk03GlkAFav1KgdqWQNT6lQK17pZAo4suuugCl0ByHMdxHBeXQECtXylQK5dAED744IM/l0DezpCYt1OXQK1fKVDrZ5dAfPDBBx98l0BLgVq/UpCXQBoS83aGpJdA6aKLLrq4l0C4MyTm7cyXQIbEvJ0h4ZdAVVVVVVX1l0Ak5u0MiQmYQPN2hsS8HZhAwgcffPAxmECRmLczJEaYQGApUOtXWphALrroootumED9SoFav4KYQMzbGRLzlphAm2yyySarmEBq/UqBWr+YQDmO4ziO05hACB988MHnmEDWrxSo9fuYQKZArV8pEJlAdNFFF10kmUBDYt7OkDiZQBLzdobETJlA4YMPPvhgmUCwFKj1K3WZQH6lQK1fiZlATjbZZJOdmUAcx3Ecx7GZQOtXCtT6xZlAuuiiiy7amUCJeTtDYu6ZQFgK1PqVAppAJ5tssskWmkD2KwVq/SqaQMS8nSExP5pAk0022WRTmkBi3s6QmGeaQDFvZ0jMe5pAAAAAAACQmkA=","dtype":"float64","order":"little","shape":[100]},"y":{"__ndarray__":"/v04tXLHqT+EfGaXRT2pP2M1S31Ut6g/2qAtTm81qD+WH+TJaLenP3Hq5VMWPac/+Gbowk/Gpj9gIZY071KmP2Jg+eTQ4qU/+2w/CdN1pT+ldIOt1QulP6GOWJW6pKQ/HArSHmVApD9m5c8nut6jP/dDW/Wff6M/dP/jHP4ioz8tITVvvciiP8c7+uTHcKI/01OzjAgboj+NVPh5a8ehP4kD8LXddaE/egrhME0moT/oC8a0qNigP0nXz9jfjKA/W7jC9eJCoD90KDs2RvWfPzIh9gkkaJ8/Ccs8JUTenj+8dD17jFeePzMgSiPk050/XoFjSTNTnT9mEb8fY9WcPyTMNdFdWpw/OrSKdA7imz+8mnkAYWybP9bof0BC+Zo/ck1Syp+Imj91O/PzZxqaP8gWX8qJrpk/xMvDCPVEmT9gVjoQmt2YP7d2+d9peJg/PHn5DVYVmD/MkgHAULSXP0HfF6VMVZc/CpFN7zz4lj+kWOFNFZ2WP1J3sufJQ5Y/jVT/VU/slT8kymqfmpaVP9+vQzOhQpU/NX0K5VjwlD8JIDHot5+UP3lpEcy0UJQ/Tq8WeEYDlD/seBcoZLeTPwND3GgFbZM/zJXQFCIkkz9F1ttQstySP/BjX4mulpI/NbxXbw9Skj/5fp71zQ6SPxJSS07jzJE/4b8x6EiMkT8zSnps+EyRP2kFVbzrDpE/CCnE7hzSkD+lGn1OhpaQP7iN3lciXJA/HGj6tusikD8yXWSLutWPP+WdyRPkZ48/JV5ZZ0r8jj9f8lk35JKOPzRa2oKoK44/dhuEk47GjT+UIYb6jWONP6oJl42eAo0/QF4NZLijjD8rYQzU00aMPwEbxG/p64s/64HDAvKSiz/yoFuP5juLP1rDEkzA5oo/cL0moXiTij+0hR0mCUKKP99nY59r8ok/ljL2+5mkiT8k2BxTjliJP2AQK+JCDok/gaFQCrLFiD/SCnRO1n6IP6diGFGqOYg/J05O0ij2hz8+DrCtTLSHP4yxaNgQdIc/gI5GX3A1hz/AO9lkZviGP1JOmx/uvIY/NzYo2AKDhj8=","dtype":"float64","order":"little","shape":[100]},"yl":{"__ndarray__":"o+pvhG7rqD/57D5MukaoPyHdjgAtqac/OjTpVloSpz8iEObX3YGmPzl8BDda96U/OJqNunhypT8fssux6PKkP/QoEvheeKQ/aJdAg5UCpD8ZqJL8SpGjP8vWsGJCJKM/Lk4UtEK7oj/tjeqgFlaiP/S2vEOM9KE/tsMy4HSWoT8v7lynpDuhP5ti/YDy46A/22Na2TePoD/9by1zUD2gP4DnnXo03J8/gsGPV+pCnz+HT/Ynhq6ePyeoQRfPHp4/vs+mlI+TnT/Sf+walQydP6iGgvyviZw/Vx6GM7MKnD88al41dI+bP/gupMnKF5s/mfMO5JCjmj/PGSiBojKaP4w5ioXdxJk/+jd4nyFamT9uPJwqUPKYP4/bwhVMjZg/bJ9qyvkqmD88hQMWP8uXP7MmvRQDbpc/MxnFHS4Tlz/fnNmwqbqWP9oJF2VgZJY/TIfo2D0Qlj+yhAajLr6VP3gub0QgbpU/Qa9GGwEglT8zhI5WwNOUP5R+pOpNiZQ/eEN7hppAlD9sNn+Jl/mTP1e/G/o2tJM/3snVfGtwkz8INvFLKC6TP2q5ly9h7ZI/qWd4dgqukj+MwNfuGHCSP9S8COCBM5I/ReBHBDv4kT+12vGCOr6RP964D+t2hZE/kBUzLudNkT+9IJ2bgheRP2ewq9tA4pA/C+aH6xmukD/+QhIZBnuQP1lQCP/9SJA/HUNggfoXkD+Iia6T6c+PP9iEXonMcY8/TLYyO5EVjz9hcJR5K7uOP9OPa4iPYo4/pv/fGbILjj+64mBJiLaNP9ZF7ZYHY40/kYCa4iURjT9irFRo2cCMP0HU1bsYcow/bbbQxNokjD+vJUy7FtmLP9lGLCTEjos/nxTnzdpFiz9AvGHNUv6KP9GN9HokuIo/SV2Tb0hzij/PVBiCty+KP/9Wr8Rq7Yk/Bi5gglusiT+H37U8g2yJP9qWganbLYk/pK+3sF7wiD+YgGVqBrSIP5mbvhzNeIg/LkxAOq0+iD8+L+pfoQWIP6HQilOkzYc/KEsfArGWhz/g9kR+wmCHP3M/vP7TK4c/Csr73OD3hj8=","dtype":"float64","order":"little","shape":[100]}},"selected":{"id":"9197"},"selection_policy":{"id":"9196"}},"id":"9150","type":"ColumnDataSource"},{"attributes":{},"id":"9192","type":"AllLabels"},{"attributes":{"line_alpha":0.2,"line_color":"#c0392b","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"9185","type":"Line"},{"attributes":{"end":0.15},"id":"9154","type":"Range1d"},{"attributes":{"label":{"value":"local"},"renderers":[{"id":"9205"}]},"id":"9218","type":"LegendItem"},{"attributes":{},"id":"9161","type":"BasicTicker"},{"attributes":{"end":0.4,"js_property_callbacks":{"change:value":[{"id":"9224"}]},"start":0.1,"step":0.001,"title":"SWC (m\u00b3/m\u00b3)","value":0.25},"id":"9222","type":"Slider"},{"attributes":{},"id":"9169","type":"WheelZoomTool"},{"attributes":{"end":10,"js_property_callbacks":{"change:value":[{"id":"9224"}]},"start":0,"step":0.1,"title":"Error of AGB (kg/m\u00b2)","value":1},"id":"9219","type":"Slider"},{"attributes":{"coordinates":null,"data_source":{"id":"9150"},"glyph":{"id":"9202"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"9204"},"nonselection_glyph":{"id":"9203"},"view":{"id":"9206"}},"id":"9205","type":"GlyphRenderer"},{"attributes":{},"id":"9194","type":"BasicTickFormatter"},{"attributes":{},"id":"9158","type":"LinearScale"},{"attributes":{},"id":"9195","type":"AllLabels"},{"attributes":{},"id":"9172","type":"ResetTool"},{"attributes":{},"id":"9156","type":"LinearScale"},{"attributes":{"end":0.08,"js_property_callbacks":{"change:value":[{"id":"9224"}]},"start":0.0,"step":0.001,"title":"Error of SOM (g/g)","value":0.02},"id":"9221","type":"Slider"},{"attributes":{"line_alpha":0.6,"line_color":"#2980b9","line_width":3,"x":{"field":"x"},"y":{"field":"yl"}},"id":"9202","type":"Line"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"9174","type":"BoxAnnotation"},{"attributes":{"line_alpha":0.2,"line_color":"#2980b9","line_width":3,"x":{"field":"x"},"y":{"field":"yl"}},"id":"9204","type":"Line"}],"root_ids":["9226"]},"title":"Bokeh Application","version":"2.4.3"}}
    </script>
    <script type="text/javascript">
      (function() {
        const fn = function() {
          Bokeh.safely(function() {
            (function(root) {
              function embed_document(root) {
              const docs_json = document.getElementById('9359').textContent;
              const render_items = [{"docid":"c55c0398-b9fd-455a-8741-d8c7241697ec","root_ids":["9226"],"roots":{"9226":"cb658149-e9fa-487a-8a19-8759defc46b5"}}];
              root.Bokeh.embed.embed_items(docs_json, render_items);
              }
              if (root.Bokeh !== undefined) {
                embed_document(root);
              } else {
                let attempts = 0;
                const timer = setInterval(function(root) {
                  if (root.Bokeh !== undefined) {
                    clearInterval(timer);
                    embed_document(root);
                  } else {
                    attempts++;
                    if (attempts > 100) {
                      clearInterval(timer);
                      console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                    }
                  }
                }, 10, root)
              }
            })(window);
          });
        };
        if (document.readyState != "loading") fn();
        else document.addEventListener("DOMContentLoaded", fn);
      })();
    </script>
  </body>
</html>